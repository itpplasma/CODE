#%Module

module-whatis "Sets paths you need to use Intel C, C++ and Fortran, version 2018.1"
module-whatis "Keywords: Fortran Intel icc icpc ifort"

proc ModulesHelp { } {
puts stderr "This is the Modulefile for configuring the environment to use"
puts stderr "Intel C, C++ and Fortran. The compiler commands are invoked\nby 'icc', 'icpc' and 'ifort'.\n"
puts stderr "See also\nhttp://software.intel.com/en-us/articles/intel-composer-xe/\n"
puts stderr "It sets the following paths and environment variables:\n"
puts stderr "- INTEL_HOME -- Path to Intels root directory\n"
puts stderr "- PATH -- Path to compiler\n"
puts stderr "- MANPATH -- manpages\n"
puts stderr "- INTEL_F_DOC, INTEL_C_DOC, INTEL_D_DOC -- Path to documentation for Fortran, C/C++ and Debugger in pdf or html format, respectively\n"
}

proc ModulesDisplay {} {
}

conflict intel

setenv INTEL_HOME        /afs/itp.tugraz.at/opt/intel/2018.1
setenv FORT_BUFFERED     yes

prepend-path PATH        $env(INTEL_HOME)/bin
prepend-path INTEL_LICENSE_FILE $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/Licenses

prepend-path MANPATH     $env(INTEL_HOME)/man/common

prepend-path INTEL_F_DOC $env(INTEL_HOME)/documentation_2018/en/compiler_f
prepend-path INTEL_C_DOC $env(INTEL_HOME)/documentation_2018/en/compiler_c
prepend-path INTEL_D_DOC $env(INTEL_HOME)/documentation_2018/en/debugger

setenv DAALROOT $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/daal
setenv MKLROOT  $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/mkl
setenv PSTLROOT $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/pstl
setenv TBBROOT  $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/tbb

setenv I_MPI_ROOT $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/mpi

prepend-path PKG_CONFIG_PATH $env(INTEL_HOME)/compilers_and_libraries_2018.1.163/linux/mkl/bin/pkgconfig

prepend-path LD_LIBRARY_PATH /afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/compiler/lib/intel64:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/compiler/lib/intel64_lin:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/mpi/intel64/lib:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/mpi/mic/lib:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/ipp/lib/intel64:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/compiler/lib/intel64_lin:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/mkl/lib/intel64_lin:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/tbb/lib/intel64/gcc4.7:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/tbb/lib/intel64/gcc4.7:/afs/itp.tugraz.at/opt/intel/2018.1/debugger_2018/iga/lib:/afs/itp.tugraz.at/opt/intel/2018.1/debugger_2018/libipt/intel64/lib:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/daal/lib/intel64_lin:/afs/itp.tugraz.at/opt/intel/2018.1/compilers_and_libraries_2018.1.163/linux/daal/../tbb/lib/intel64_lin/gcc4.4

setenv FC  ifort
setenv F77 ifort
setenv F90 ifort
setenv CC  icc
setenv CXX icc
setenv PROJLIBS   /proj/plasma/Libs/intel
setenv NETCDFHOME $env(PROJLIBS)/NetCDF
prepend-path -d " " CFLAGS   -I$env(NETCDFHOME)/include/
prepend-path -d " " FFLAGS   -I$env(NETCDFHOME)/include/
prepend-path -d " " CXXFLAGS -I$env(NETCDFHOME)/include/
prepend-path -d " " LDFLAGS  -L$env(NETCDFHOME)/lib/
prepend-path LD_LIBRARY_PATH  $env(NETCDFHOME)/lib/
setenv F90HOME $env(INTEL_HOME)

